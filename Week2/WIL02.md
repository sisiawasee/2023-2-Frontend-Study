8장 함수
---
- 함수 정의 방법
  - 함수 선언문/리터럴(무명 함수)/Function 생성자(변수에 선언)/화살표 함수 표현식
  - 호출 코드보다 앞에 위치해야 함(함수 선언문 제외).
  - 중첩 함수(내부 함수): 외부 함수의 바깥에서는 읽거나 쓸 수 없음.
 
- 함수 호출 방법
  - 함수 호출/메소드 호출/생성자 호출(new 키워드)/call, apply 메소드(간접호출)
  - 즉시 실행 함수: 무명 함수를 정의하는 동시에 실행 -> (function(){...})(); or +function(){...}()
    - 전역 유효 범위를 오염시키지 않는 이름 공간을 생성할 때 사용 (8장 참조)

- 함수의 인수
  - 인수 생략 -> 생략 인자는 undefined가 됨.
  - 초깃값을 설정해줄 수 있음: b=b||1; (b가 없으면 1)
  - 가변 길이 인수 목록 (Arguments 객체) -> 인수 n개를 넘겨서 호출하면 인수값이 arguments에 저장
    - length와 callee를 갖고 있음 (callee: 현재 실행되고 있는 함수 참조)
    - Arguments 객체는 유사 배열 객체 (10장 참조)
    - but, 배열 객체로 변환 가능/인수 개수가 일정하지 않고, 인덱스로 값 변환시 인자의 값도 변함

- 재귀 함수
  - 하노이 탑, 팩토리얼, 퀵 정렬 등 -> 되도록 간단하게 해결할 수 있을 때만 사용하기 (원리는 똑같다.)

- 프로그램의 평가와 실행 과정 (이 부분부터 이해가 어려워 재복습 필요!)
  - 실행 가능한 코드: 전역코드/함수코드/eval 코드
  - 실행 문맥의 구성
    - 렉시컬 환경 컴포넌트: 실행을 위한 자원을 모아둔 곳 -> 유효 범위 안의 식별자와 결괏값 저장, 환경 레코드(선언적 환경 레코드(실제 함수, 변수, catch문의 식별자와 실행 결과 저장)와 객체 환경 레코드(실행 문맥 외부의 별도 저장 객체 참조에서 데이터 읽기&쓰기 ->with 등)로 구성)와 외부 렉시컬 환경 참조(중첩 함수 등)로 구성되어 있음
    - 싱글 스레드와 멀티스레드: 싱글스레드는 순차실행, 멀티스레드는 병렬실행
    - 디스 바인딩 컴포넌트: this 값은 환경에 따라 바뀜(=동적)
  - 속박 변수&닫힌 함수, 자유 변수&열린 함수: 함수의 인수와 지역 변수-> 속박 변수 (속박 변수만을 가지면 닫힌 함수), 자유 변수는 전역 실행 문맥의 환경 레코드에서 확인 가능 (스코프 체인, 외부 렉시켤 환경 체인, 유효 범위 체인에서 식별자 확인)
  - 가비지 컬렉션: 다른 객체의 프로퍼티와 변수가 참조하지 않는 객체 -> 메모리 누수 발생 가능(ex: 순환 참조)

- 클로저: 자기 자신이 정의된 환경에서 함수 안에 있는 자유 변수의 식별자 결정을 실행
  - 렉시컬 환경 컴포넌트 생성 및 참조
  - 캡슐화된 객체임
  - 반복문 안에서 클로저를 만들지 않을 것 (매번 새로운 객체가 생성되거나, for문의 경우 잘못된 변수 참조 가능 -> 즉시 실행 함수에 카운터 변수를 전달하는 방식으로 해결도 가능함.)
 
- 이름 공간: 전역 유효 범위의 오염을 방지하기 위함 (-> namespace 같은 느낌)
  - 객체 자체를 이름 공간으로 활용: 객체를 지역 범위로 설정해줌. 부분 이름 공간을 만들 수도 있음.
  - 함수를 이름 공간으로 활용: 함수 내부의 지역변수로 선언
    - 모듈 패턴: 모듈 바깥의 변수와 충돌 가능 -> 즉시 실행 함수를 통해 해결 (클로저의 내부 상태로 저장)

- 객체로서의 함수
  - 함수는 Function 객체임 -> 변수/프로퍼티/배열 요소에 대입 가능, 함수의 인수/반환값으로 사용 가능, 프로퍼티/메서드 보유 가능, 무명 함수 표현 가능, 동적 생성 가능. (이러한 작업이 가능할 경우 일급 함수->JS의 함수는 일급 함수)
  - 함수의 프로퍼티: caller, length, name, prototype
  - function 생성자의 prototype 객체 상속 가능 (ex. apply, bind, call 등)
    - apply(배열 인수)/call(쉼표 구분 값)
   
- 고차 함수: 함수를 인수로 받거나 함수를 반환하는 함수: joinString, random 함수를 인수로 받는 것 등
  - 메모이제이션 기법을 적용한 함수로 가공 가능 -> memorize ... 객체 cache 안에 저장함 (재귀 함수 사용)
  - 합성 함수도 가능
  - 커링 -> 인수를 두개 이상 받는 함수를 분해하여 인수가 하나인 함수의 중첩 함수로 변환하는 작업
 
- 콜백 함수: 다른 함수에 인수로 넘겨지는 함수
  - 이벤트 처리기, 타이머 등

- 기타: 태그 함수, 화살표 함수 등
